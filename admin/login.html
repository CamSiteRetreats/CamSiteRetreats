<!DOCTYPE html>
<html lang="vi">


    <link rel="icon" type="image/png" href="../favicon.png">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đăng nhập - CAM SITE RETREATS Admin</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="../js/auth.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#E85D04',
                        secondary: '#FFF8F0',
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --primary: #E85D04;
            --secondary: #FFF8F0;
            --text: #333333;
        }

        html {
            font-size: 18px;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--secondary);
            background-image: linear-gradient(rgba(255, 255, 255, 0.8), rgba(255, 255, 255, 0.8)), url('../bg-texture.png');
            background-size: cover;
            background-attachment: fixed;
            background-position: center;
        }

        .login-card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(232, 93, 4, 0.1);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.05);
        }

        .input-group:focus-within label {
            color: var(--primary);
        }

        .custom-input {
            background: rgba(255, 255, 255, 0.5);
            border: 1px solid rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }

        .custom-input:focus {
            background: white;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(232, 93, 4, 0.1);
        }

        @media (max-width: 768px) {
            html {
                font-size: 13px !important;
            }

            h1,
            h2,
            h3 {
                font-size: 15px !important;
                line-height: 1.4 !important;
            }
        }
    </style>
</head>

<body class="min-h-screen flex items-center justify-center p-6">

    <div class="w-full max-w-md animate__animated animate__fadeIn">
        <div class="text-center mb-10">
            <a href="../" class="inline-block">
                <img src="../logo-camsite-01.png" alt="CAM SITE RETREATS" class="h-20 w-auto object-contain mx-auto mb-4">
            </a>
            <h1 class="text-2xl font-black text-gray-800 uppercase tracking-tight">Chào những bạn đồng hành!</h1>
            <p class="text-gray-500 font-medium mt-2">Đăng nhập để truy cập vào trình quản lý</p>
        </div>

        <div class="login-card p-8 rounded-[32px]">
            <form onsubmit="handleLogin(event)" class="space-y-5">
                <div class="input-group">
                    <label class="block text-xs font-bold uppercase tracking-widest text-gray-400 mb-2 ml-1">Tài
                        khoản</label>
                    <div class="relative">
                        <i data-lucide="user"
                            class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"></i>
                        <input type="text" id="username" placeholder="username hoặc email" required
                            class="custom-input w-full pl-12 pr-4 py-3.5 rounded-2xl outline-none font-medium text-gray-800">
                    </div>
                </div>

                <div class="input-group">
                    <label class="block text-xs font-bold uppercase tracking-widest text-gray-400 mb-2 ml-1">Mật
                        khẩu</label>
                    <div class="relative">
                        <i data-lucide="lock"
                            class="absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-300"></i>
                        <input type="password" id="password" placeholder="••••••••" required
                            class="custom-input w-full pl-12 pr-4 py-3.5 rounded-2xl outline-none font-medium text-gray-800">
                    </div>
                </div>

                <div class="flex items-center justify-between text-xs font-bold">
                    <label class="flex items-center space-x-2 cursor-pointer group">
                        <input type="checkbox"
                            class="rounded border-gray-300 text-primary focus:ring-primary w-4 h-4 cursor-pointer">
                        <span class="text-gray-500 group-hover:text-gray-800 transition-colors">Ghi nhớ đăng nhập</span>
                    </label>
                    <a href="#" class="text-primary hover:text-orange-600 transition-colors">Quên mật khẩu?</a>
                </div>

                <button type="submit"
                    class="w-full bg-primary text-white py-3.5 rounded-2xl font-black uppercase tracking-widest text-sm shadow-xl shadow-primary/30 hover:scale-[1.02] active:scale-95 transition-all mt-4">
                    ĐĂNG NHẬP NGAY
                </button>
            </form>
        </div>

        <p class="text-center mt-8 text-sm text-gray-400 font-medium">
            Bạn chưa có tài khoản? <a href="#" class="text-gray-600 font-bold hover:text-primary transition-colors">Liên
                hệ quản trị</a>
        </p>
    </div>

    <script>
        lucide.createIcons();

        async function handleLogin(event) {
            event.preventDefault();

            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;

            // Show loading state if desired
            const btn = event.target.querySelector('button');
            const originalText = btn.innerText;
            btn.innerText = 'ĐANG ĐĂNG NHẬP...';
            btn.disabled = true;

            const result = await login(username, password);

            if (result.success) {
                window.location.href = 'dashboard';
            } else {
                alert(result.message);
                btn.innerText = originalText;
                btn.disabled = false;
            }
        }
    </script>
</body>

</html>
